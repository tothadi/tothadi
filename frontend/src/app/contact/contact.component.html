<div id="container">
    <h1>Küldj üzenetet!</h1>
    <div *ngIf="submitted; then thenBlock else elseBlock"></div>

    <ng-template #thenBlock>
        <div id="screen">
            <dialog [ngClass]="{
                'message-sent': status === 2,
                'message-not-sent': status === 3,
                '': status === 1
              }" open>{{sent}}</dialog>
        </div>
    </ng-template>

    <ng-template #elseBlock>
        <form (ngSubmit)="sendMessage()">
            <div class="form-group">
                <label for="name">Név</label>
                <input type="text" class="form-control" id="name" required [(ngModel)]="name" minlength="3" name="name"
                    placeholder="név" #nameInput="ngModel">
                <div class="help error" *ngIf="nameInput.invalid && nameInput.dirty">
                    Minimum 3 karakter hosszúságú név megadása kötelező.
                </div>
            </div>

            <div class="form-group">
                <label for="address">Email cím</label>
                <input type="text" class="form-control" id="address" required [(ngModel)]="address" email name="address"
                    placeholder="email cím" #addressInput="ngModel">
                <div class="help error" *ngIf="addressInput.invalid && addressInput.dirty">
                    Valódi email cím megadása kötelező.
                </div>
            </div>

            <div class="form-group">
                <label for="subject">Tárgy</label>
                <select class="form-control" id="subject" required [(ngModel)]="subject" name="subject"
                    #subjectInput="ngModel">
                    <option *ngFor="let subject of subjects" [value]=subject>{{subject}}</option>
                </select>
            </div>

            <div class="form-group">
                <label for="message">Üzenet szövege</label>
                <textarea class="textarea form-control" id="message" required [(ngModel)]="message" minlength="10"
                    name="message" placeholder="üzenet szövege" #messageInput="ngModel"></textarea>
                <div class="help error" *ngIf="messageInput.invalid && messageInput.dirty">
                    Minimum 10 karakter hosszúságú szöveg megadása kötelező.
                </div>
            </div>

            <div id="sending">
                <div id="check" class="form-group">
                    <label for="copy">Másolatot kérek</label>
                    <input type="checkbox" [(ngModel)]="copy" [ngModelOptions]="{standalone: true}" id="copy">
                </div>
                <button type="submit" class="btn btn-success"
                    [disabled]="nameInput.invalid || addressInput.invalid || subjectInput.invalid || messageInput.invalid || submitted">Üzenet
                    elküldése</button>
            </div>
        </form>
    </ng-template>
</div>